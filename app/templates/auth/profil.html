{% import "bootstrap/wtf.html" as wtf %} {% extends "base.html" %} {% block title %} Profil {% endblock %}
{% block links %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/profil.css') }}"> {% endblock %} {% block body %}
<section class="main">
  <section class="leftSide">
    <div class="colorProfil1"></div>
    <div class="colorProfil11"></div>
    <div class="colorProfil2"></div>
    <div class="colorProfil22"></div>
    <div class="colorProfil3"></div>
    <div class="colorProfil33"></div>
    <h1 class="leftTitle">Menu Profil</h1>
    <ul class="listLeftMenu">
      <li class="listLeftItem">
        <a href="#persoInfo">Personal Informations</a></li>
      <li class="listLeftItem">
        <a href="#address">Address</a></li>
      <li class="listLeftItem">
        <a href="#commands">Purchases</a></li>
      <li class="listLeftItem">
        <a href="#comments">Comments</a></li>
      {% if current_user.is_admin %}
      <li class="listLeftItem">
        <a href="{{ url_for('home.admin_dashboard') }}">Admin Dashboard</a></li>
      {% endif %}
      <li class="listLeftItem">
        <a class="unsign" href="{{ url_for('auth.logout') }}">Logout</a></li>
    </ul>
  </section>
  <section class="rightSide">
    <div id="persoInfo"></div>
    <div class="persoInfo">
      <h1 class="rightTitle">Personal Informations</h1>
      <div>
        {{ wtf.quick_form(form_ed) }}
      </div>
      <hr>
      <div id="address"></div>
      <a href="{{ url_for('auth.add_address') }}">Add a new address to your account </a>
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th width="35%"> Address </th>
            <th width="15%"> City </th>
            <th width="15%"> Postal </th>
            <th width="15%"> Country </th>
            <th width="10%"> Edit </th>
            <th width="10%"> Delete </th>
          </tr>
        </thead>
        <tbody>
          {% for address in user.addresses %}
          <tr>
            <td> {{ address.address }} </td>
            <td> {{ address.city }} </td>
            <td> {{ address.postal }}</td>
            <td> {{ address.country }}</td>
            <td><a href="{{ url_for('auth.edit_address', id=address.id) }}"><i class="fa fa-pencil"></i> Edit </a></td>
            <td><a href="{{ url_for('auth.delete_address', id=address.id) }}"><i class="fa fa-trash"></i> Delete </a></td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
      <hr>
      <div class="commands"></div>
      <hr>
      <div class="comments"></div>
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th width="10%"> Product </th>
            <th width="10%"> Date </th>
            <th width="10%"> Rating </th>
            <th width="50%"> Comment </th>
            <th width="10%"> Edit </th>
            <th width="10%"> Delete </th>
          </tr>
        </thead>
        <tbody>
          {% for comment in user.comments %}
          <tr>
            {% if comment.product.name %}
            <td> {{ comment.product.name }} </td>
            {% else %}
            <td> /Game Not Available/ </td>
            {% endif %}
            <td> {{ comment.date }} </td>
            <td> {{ comment.rating }} </td>
            <td> {{ comment.content }}</td>
            <td><a href="{{ url_for('auth.edit_comment', id=comment.id) }}"><i class="fa fa-pencil"></i> Edit </a></td>
            <td><a href="{{ url_for('auth.delete_comment', id=comment.id) }}"><i class="fa fa-trash"></i> Delete </a></td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
      <hr>
  </section>
</section>
{% endblock %}